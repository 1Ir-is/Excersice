<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bai 1</title>
  </head>
  <body>
    <script>
      let exit = false;
      let sinhVien = ["Huynh Minh Huy", "Tran Chung Chien"];

      while (!exit) {
        let menu = prompt(
          "------ Quan ly sinh vien ------ \n" +
            "Hay nhap so de chon \n" +
            "1. Hien thi danh sach sinh vien \n" +
            "2. Them moi sinh vien \n" +
            "3. Xoa sinh vien \n" +
            "4. Ket thuc chuong trinh \n"
        );

        switch (menu) {
          case "1":
            displaySinhVien();
            break;
          case "2":
            addSinhVien();
            break;
          case "3":
            deleteStudent();
            break;
          case "4":
            let confirmExit = confirm(
              "Ban co chac chan muon ket thuc chuong trinh?"
            );

            if (confirmExit) {
              alert("Ket thuc chuong trinh");
              exit = true;
            }
            break;
          default:
            alert("Lua chon khong hop le");
        }
      }

      function displaySinhVien() {
        if (sinhVien.length === 0) {
          alert("Danh sach sinh vien dang trong!");
        } else {
          let studentList = "Danh sách sinh viên:\n";
          for (let i = 0; i < sinhVien.length; i++) {
            studentList += `${i + 1}. ${sinhVien[i]}\n`;
          }
          alert(studentList);
        }
      }

      function addSinhVien() {
        let newSinhVien = prompt("Nhap ten hoc sinh moi: ").trim();

        if (newSinhVien === "") {
          alert("Ten sinh vien khong duoc de trong!");
        }

        sinhVien.push(newSinhVien);
        alert("Them sinh vien thanh cong");
      }

      function deleteStudent() {
        if (sinhVien.length === 0) {
          alert("Không có sinh viên nào để xóa.");
          return;
        }

        let studentList = "Danh sách sinh viên:\n";
        for (let i = 0; i < sinhVien.length; i++) {
          studentList += `${i + 1}. ${sinhVien[i]}\n`;
        }

        let studentIndex = prompt(
          `${studentList}\nNhập số thứ tự của sinh viên cần xóa:`
        );

        if (studentIndex === null) return;

        studentIndex = studentIndex.trim();
        if (
          studentIndex === "" ||
          isNaN(studentIndex) ||
          studentIndex < 1 ||
          studentIndex > sinhVien.length
        ) {
          alert("Số thứ tự không hợp lệ!");
          return;
        }

        studentIndex = parseInt(studentIndex) - 1;

        let confirmDelete = confirm(
          `Bạn có chắc muốn xóa sinh viên "${sinhVien[studentIndex]}" không?`
        );
        if (confirmDelete) {
          alert(`Xóa sinh viên "${sinhVien[studentIndex]}" thành công!`);
          sinhVien.splice(studentIndex, 1);
        }
      }
    </script>
  </body>
</html>
